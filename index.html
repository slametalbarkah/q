<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Super App AI + Quantum</title>
    <!-- PyScript -->
    <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" />
    <script defer src="https://pyscript.net/latest/pyscript.js"></script>
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', sans-serif;
            background: #f0f2f5;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
        }
        h1 {
            color: #6e48aa;
            text-align: center;
        }
        .section {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        textarea, button {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            border: 1px solid #ddd;
        }
        button {
            background: #6e48aa;
            color: white;
            border: none;
            cursor: pointer;
        }
        .response-box {
            background: #f9f9f9;
            padding: 15px;
            border-radius: 5px;
            margin-top: 10px;
        }
        #quantum-chart {
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>✨ All-in-One AI + Quantum App ✨</h1>
        
        <!-- AI Chat Section -->
        <div class="section">
            <h2>Generative AI (Simulated)</h2>
            <textarea id="ai-prompt" placeholder="Ask me anything..."></textarea>
            <button py-click="ask_ai()" id="ai-button">Generate</button>
            <div id="ai-response" class="response-box"></div>
        </div>

        <!-- Quantum Simulator -->
        <div class="section">
            <h2>Quantum Simulator</h2>
            <button py-click="run_quantum()" id="quantum-button">Run Quantum Circuit</button>
            <div id="quantum-result" class="response-box"></div>
            <canvas id="quantum-chart"></canvas>
        </div>
    </div>

    <py-config>
        packages = ["numpy", "matplotlib", "qiskit"]
    </py-config>

    <py-script>
        import numpy as np
        from qiskit import QuantumCircuit, Aer, execute
        import matplotlib.pyplot as plt
        from js import document, console, Chart

        # Simulated AI (Replace with OpenAI API if needed)
        def ask_ai():
            prompt = document.getElementById("ai-prompt").value
            responses = {
                "hello": "Hello! I'm a simulated AI.",
                "quantum": "Quantum computing uses qubits that can be 0 and 1 simultaneously.",
                "python": "Python is great for AI and quantum programming!"
            }
            answer = responses.get(prompt.lower(), "I don't understand that yet. Try 'hello', 'quantum', or 'python'.")
            document.getElementById("ai-response").innerHTML = answer

        # Real Quantum Simulator
        def run_quantum():
            # Create quantum circuit
            qc = QuantumCircuit(2)
            qc.h(0)  # Hadamard gate
            qc.cx(0, 1)  # Entangle qubits
            qc.measure_all()

            # Simulate
            simulator = Aer.get_backend('qasm_simulator')
            result = execute(qc, simulator, shots=1000).result()
            counts = result.get_counts(qc)

            # Display results
            document.getElementById("quantum-result").innerHTML = f"Results: {counts}"

            # Draw chart
            ctx = document.getElementById('quantum-chart').getContext('2d')
            labels = list(counts.keys())
            data = list(counts.values())
            
            new Chart(ctx, {
                "type": "bar",
                "data": {
                    "labels": labels,
                    "datasets": [{
                        "label": "Qubit States",
                        "data": data,
                        "backgroundColor": ["#ff6384", "#36a2eb"]
                    }]
                }
            })
    </py-script>
</body>
</html>
